!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/fire/auth"),require("firebase/app"),require("firebaseui-en-es/dist/npm__es"),require("firebase/auth"),require("@angular/common")):"function"==typeof define&&define.amd?define("firebaseui-angular",["exports","@angular/core","@angular/fire/auth","firebase/app","firebaseui-en-es/dist/npm__es","firebase/auth","@angular/common"],r):r(e["firebaseui-angular"]={},e.ng.core,e.ng.fire.auth,e.firebase,e.firebaseuiOriginal,null,e.ng.common)}(this,function(e,a,r,i,t,n,o){"use strict";var s=function(){function e(e){this.angularFireAuth=e}return e.prototype.init=function(e){window.firebaseUiInstance||(window.firebaseUiInstance=new e.auth.AuthUI(this.angularFireAuth.auth)),this.firebaseUiInstance=window.firebaseUiInstance},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:r.AngularFireAuth}]},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(r.AngularFireAuth))},token:e,providedIn:"root"}),e}(),C=function(){return(C=Object.assign||function(e){for(var r,i=1,t=arguments.length;i<t;i++)for(var n in r=arguments[i])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};var u=i,c=t,l=function R(){},f=function _(){},h=function w(){},p=function D(){},A={AccountChooser:0,OneTap:1,None:2};A[A.AccountChooser]="AccountChooser",A[A.OneTap]="OneTap",A[A.None]="None";var g={Google:0,Facebook:1,Twitter:2,Github:3,Password:4,Phone:5};g[g.Google]="Google",g[g.Facebook]="Facebook",g[g.Twitter]="Twitter",g[g.Github]="Github",g[g.Password]="Password",g[g.Phone]="Phone";var P={Popup:0,Redirect:1};P[P.Popup]="Popup",P[P.Redirect]="Redirect";var b=i.auth.GoogleAuthProvider,d=i.auth.FacebookAuthProvider,I=i.auth.TwitterAuthProvider,U=i.auth.GithubAuthProvider,y=i.auth.EmailAuthProvider,O=i.auth.PhoneAuthProvider,v=function(){function v(e,r,i,t,n){this.angularFireAuth=e,this._firebaseUiConfig=r,this._firebaseUiConfig_Feature=i,this.ngZone=t,this.firebaseUIService=n,this.signInSuccessCallback=new a.EventEmitter,this.signInSuccessWithAuthResultCallback=new a.EventEmitter,this.signInFailureCallback=new a.EventEmitter}return v.getAuthProvider=function(e){switch(e){case g.Google:return b.PROVIDER_ID;case g.Facebook:return d.PROVIDER_ID;case g.Twitter:return I.PROVIDER_ID;case g.Github:return U.PROVIDER_ID;case g.Password:return y.PROVIDER_ID;case g.Phone:return O.PROVIDER_ID}},Object.defineProperty(v.prototype,"firebaseUiConfig",{get:function(){return C({},this._firebaseUiConfig,this._firebaseUiConfig_Feature)},enumerable:!0,configurable:!0}),v.prototype.ngOnInit=function(){var r=this;-1!==["en","es"].indexOf(this.language)?(this.firebaseuiLibrary="en"===this.language?require("firebaseui-en-es/dist/npm__en"):require("firebaseui-en-es/dist/npm__es"),this.firebaseUIService.init(this.firebaseuiLibrary),this.subscription=this.angularFireAuth.authState.subscribe(function(e){if(e&&e.isAnonymous||!e)if(r.firebaseUiConfig.providers){if(console.warn('"FirebaseUIAuthConfig" isn\'t supported since version 3.3.0 and will be removed in the future.\nPlease use the native configuration of firebaseui "firebaseui.auth.Config"'),console.warn("You can copy your converted configuration:\n",r.getNewConfigurationString(r.getUIAuthConfig())),0===r.firebaseUiConfig.providers.length)throw new Error("There must be at least one AuthProvider.");r.firebaseUIPopup()}else{if(0===r.firebaseUiConfig.signInOptions.length)throw new Error("There must be at least one AuthProvider.");r.firebaseUIPopup()}})):console.error('Language must be either "en" or "es"')},v.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},v.prototype.getUIAuthConfig=function(){var e,r,t=this;if(!this.firebaseUiConfig.providers)return this.firebaseUiConfig.callbacks||(this._firebaseUiConfig[v.COMPUTED_CALLBACKS]=!0,this._firebaseUiConfig.callbacks=this.getCallbacks()),this.firebaseUiConfig;var n=this.firebaseUiConfig,i=[];try{for(var a=function d(e){var r="function"==typeof Symbol&&e[Symbol.iterator],i=0;return r?r.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}(n.providers),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.customConfig){var u=(s=s).customConfig;u.provider=v.getAuthProvider(s.provider),i.push(u)}else i.push(v.getAuthProvider(s))}}catch(I){e={error:I}}finally{try{o&&!o.done&&(r=a["return"])&&r.call(a)}finally{if(e)throw e.error}}var c,l=n.tos?n.tos:"",f=n.privacyPolicyUrl?n.privacyPolicyUrl:"",h="popup";switch(n.method){case P.Redirect:h="redirect";break;case null:case P.Popup:}switch(n.credentialHelper){case A.None:c=this.firebaseuiLibrary.auth.CredentialHelper.NONE;break;case A.OneTap:c=this.firebaseuiLibrary.auth.CredentialHelper.GOOGLE_YOLO;break;case A.AccountChooser:default:c=this.firebaseuiLibrary.auth.CredentialHelper.ACCOUNT_CHOOSER_COM}var p=null!=n.autoUpgradeAnonymousUsers&&n.autoUpgradeAnonymousUsers,g=C({},this.getCallbacks(),{signInSuccess:null});n.disableSignInSuccessCallback||(console.warn("[FirebaseUiAngular] signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead.\nTo remove this warning set disableSignInSuccessCallback on the FirebaseUiConfig Object."),g.signInSuccess=function(e,r,i){return t.ngZone.run(function(){t.signInSuccessCallback.emit({currentUser:e,credential:r,redirectUrl:i})}),!!n.signInSuccessUrl});var b={callbacks:g,signInFlow:h,signInOptions:i,tosUrl:l,privacyPolicyUrl:f,credentialHelper:c,autoUpgradeAnonymousUsers:p};return n.signInSuccessUrl&&(b.signInSuccessUrl=n.signInSuccessUrl),b},v.prototype.firebaseUIPopup=function(){var e=this.getUIAuthConfig(),r=!1;e[v.COMPUTED_CALLBACKS]&&(r=!0,delete e[v.COMPUTED_CALLBACKS]),this.firebaseUIService.firebaseUiInstance.start("#firebaseui-auth-container",e),r&&(this._firebaseUiConfig.callbacks=null)},v.prototype.getCallbacks=function(){var i=this;return{signInSuccessWithAuthResult:function(e,r){return i.ngZone.run(function(){i.signInSuccessWithAuthResultCallback.emit({authResult:e,redirectUrl:r})}),i.firebaseUiConfig.signInSuccessUrl},signInFailure:function(e){return i.ngZone.run(function(){i.signInFailureCallback.emit({code:e.code,credential:e.credential})}),Promise.reject()}}},v.prototype.getNewConfigurationString=function(e){delete e.callbacks,e.autoUpgradeAnonymousUsers||delete e.autoUpgradeAnonymousUsers;var r=JSON.stringify(e,null,2);return r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace('"credentialHelper": "accountchooser.com"','"credentialHelper": firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM')).replace('"credentialHelper": "googleyolo"','"credentialHelper": firebaseui.auth.CredentialHelper.GOOGLE_YOLO')).replace('"credentialHelper": "none"','"credentialHelper": firebaseui.auth.CredentialHelper.NONE')).replace('"provider": "google.com"','"provider": firebase.auth.GoogleAuthProvider.PROVIDER_ID')).replace('"provider": "facebook.com"','"provider": firebase.auth.FacebookAuthProvider.PROVIDER_ID')).replace('"provider": "twitter.com"','"provider": firebase.auth.TwitterAuthProvider.PROVIDER_ID')).replace('"provider": "github.com"','"provider": firebase.auth.GithubAuthProvider.PROVIDER_ID')).replace('"provider": "password"','"provider": firebase.auth.EmailAuthProvider.PROVIDER_ID')).replace('"provider": "phone"','"provider": firebase.auth.PhoneAuthProvider.PROVIDER_ID')).replace('"google.com"',"firebase.auth.GoogleAuthProvider.PROVIDER_ID")).replace('"facebook.com"',"firebase.auth.FacebookAuthProvider.PROVIDER_ID")).replace('"twitter.com"',"firebase.auth.TwitterAuthProvider.PROVIDER_ID")).replace('"github.com"',"firebase.auth.TwitterAuthProvider.PROVIDER_ID")).replace('"password"',"firebase.auth.EmailAuthProvider.PROVIDER_ID")).replace('"phone"',"firebase.auth.PhoneAuthProvider.PROVIDER_ID")).replace(/"([a-zA-Z0-9]*)": (.*)/g,"$1: $2")).replace(/"/g,"'")},v.COMPUTED_CALLBACKS="COMPUTED_CALLBACKS",v.decorators=[{type:a.Component,args:[{selector:"firebase-ui",template:'<div id="firebaseui-auth-container"></div>'}]}],v.ctorParameters=function(){return[{type:r.AngularFireAuth},{type:undefined,decorators:[{type:a.Inject,args:["firebaseUIAuthConfig"]}]},{type:undefined,decorators:[{type:a.Inject,args:["firebaseUIAuthConfigFeature"]}]},{type:a.NgZone},{type:s}]},v.propDecorators={signInSuccessCallback:[{type:a.Output,args:["signInSuccess"]}],signInSuccessWithAuthResultCallback:[{type:a.Output,args:["signInSuccessWithAuthResult"]}],signInFailureCallback:[{type:a.Output,args:["signInFailure"]}],language:[{type:a.Input}]},v}(),m=function(){function r(){}return r.forRoot=function(e){return{ngModule:r,providers:[{provide:"firebaseUIAuthConfig",useValue:e},{provide:"firebaseUIAuthConfigFeature",useValue:{}}]}},r.forFeature=function(e){return{ngModule:r,providers:[{provide:"firebaseUIAuthConfigFeature",useValue:e}]}},r.decorators=[{type:a.NgModule,args:[{imports:[o.CommonModule],declarations:[v],exports:[v]}]}],r}();e.FirebaseuiAngularLibraryService=s,e.FirebaseuiAngularLibraryComponent=v,e.firebase=u,e.firebaseui=c,e.FirebaseUIAuthConfig=l,e.FirebaseUISignInSuccessWithAuthResult=f,e.FirebaseUISignInFailure=h,e.FirebaseUISignInSuccess=p,e.CredentialHelper=A,e.AuthProvider=g,e.AuthMethods=P,e.FirebaseUIModule=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=firebaseui-angular.umd.min.js.map