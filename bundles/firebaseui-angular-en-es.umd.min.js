!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/fire/auth"),require("firebase/app"),require("firebaseui-en-es/dist/npm__es"),require("firebase/auth"),require("@angular/common")):"function"==typeof define&&define.amd?define("firebaseui-angular-en-es",["exports","@angular/core","@angular/fire/auth","firebase/app","firebaseui-en-es/dist/npm__es","firebase/auth","@angular/common"],r):r((e=e||self)["firebaseui-angular-en-es"]={},e.ng.core,e.ng.fire.auth,e.firebase$1,e.firebaseuiOriginal,null,e.ng.common)}(this,(function(e,r,t,i,n,a,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var s=function(){return(s=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};function u(e,r,t,i){return new(t||(t=Promise))((function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){e.done?n(e.value):new t((function(r){r(e.value)})).then(o,s)}u((i=i.apply(e,r||[])).next())}))}function c(e,r){var t,i,n,a,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(n=2&a[0]?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){o.label=a[1];break}if(6===a[0]&&o.label<n[1]){o.label=n[1],n=a;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(a);break}n[2]&&o.ops.pop(),o.trys.pop();continue}a=r.call(e,o)}catch(e){a=[6,e],i=0}finally{t=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function l(e){var r="function"==typeof Symbol&&e[Symbol.iterator],t=0;return r?r.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}var f=function(){function e(e){this.angularFireAuth=e}return e.prototype.getInstance=function(e){return u(this,void 0,void 0,(function(){var r,t;return c(this,(function(i){switch(i.label){case 0:return this.currentLanguage===e?[2,this.firebaseUiInstance]:(this.currentLanguage=e,window.firebaseUiInstance?[4,window.firebaseUiInstance.delete()]:[3,2]);case 1:i.sent(),i.label=2;case 2:return"en"!==e?[3,4]:(r=window,[4,import("firebaseui-en-es/dist/npm__en")]);case 3:return r.firebaseUiInstance=new(i.sent().auth.AuthUI)(this.angularFireAuth.auth),[3,6];case 4:return t=window,[4,import("firebaseui-en-es/dist/npm__es")];case 5:t.firebaseUiInstance=new(i.sent().auth.AuthUI)(this.angularFireAuth.auth),i.label=6;case 6:return this.firebaseUiInstance=window.firebaseUiInstance,[2,this.firebaseUiInstance]}}))}))},e.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:t.AngularFireAuth}]},e.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new e(r.ɵɵinject(t.AngularFireAuth))},token:e,providedIn:"root"}),e}();var h=i,p=n,b=function(){};var g=function(){};var d=function(){};var v=function(){};var I={AccountChooser:0,OneTap:1,None:2};I[I.AccountChooser]="AccountChooser",I[I.OneTap]="OneTap",I[I.None]="None";var C={Google:0,Facebook:1,Twitter:2,Github:3,Password:4,Phone:5};C[C.Google]="Google",C[C.Facebook]="Facebook",C[C.Twitter]="Twitter",C[C.Github]="Github",C[C.Password]="Password",C[C.Phone]="Phone";var A={Popup:0,Redirect:1};A[A.Popup]="Popup",A[A.Redirect]="Redirect";var y=i.auth.GoogleAuthProvider,P=i.auth.FacebookAuthProvider,U=i.auth.TwitterAuthProvider,m=i.auth.GithubAuthProvider,w=i.auth.EmailAuthProvider,O=i.auth.PhoneAuthProvider,_=function(){function e(e,t,i,n,a){this.angularFireAuth=e,this._firebaseUiConfig=t,this._firebaseUiConfig_Feature=i,this.ngZone=n,this.firebaseUIService=a,this.signInSuccessCallback=new r.EventEmitter,this.signInSuccessWithAuthResultCallback=new r.EventEmitter,this.signInFailureCallback=new r.EventEmitter,this.language="en"}return e.getAuthProvider=function(e){switch(e){case C.Google:return y.PROVIDER_ID;case C.Facebook:return P.PROVIDER_ID;case C.Twitter:return U.PROVIDER_ID;case C.Github:return m.PROVIDER_ID;case C.Password:return w.PROVIDER_ID;case C.Phone:return O.PROVIDER_ID}},e.prototype.ngOnChanges=function(e){return u(this,void 0,void 0,(function(){var r,t;return c(this,(function(i){switch(i.label){case 0:return e.language?"en"!==this.language?[3,2]:(r=this,[4,import("firebaseui-en-es/dist/npm__en")]):[3,5];case 1:return r.firebaseuiLibrary=i.sent(),[3,5];case 2:return"es"!==this.language?[3,4]:(t=this,[4,import("firebaseui-en-es/dist/npm__es")]);case 3:return t.firebaseuiLibrary=i.sent(),[3,5];case 4:console.error('Language must be either "en" or "es"'),i.label=5;case 5:return window.firebaseui=this.firebaseuiLibrary,[2]}}))}))},Object.defineProperty(e.prototype,"firebaseUiConfig",{get:function(){return s({},this._firebaseUiConfig,this._firebaseUiConfig_Feature)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.subscription=this.angularFireAuth.authState.subscribe((function(r){if(r&&r.isAnonymous||!r)if(e.firebaseUiConfig.providers){if(console.warn('"FirebaseUIAuthConfig" isn\'t supported since version 3.3.0 and will be removed in the future.\nPlease use the native configuration of firebaseui "firebaseui.auth.Config"'),console.warn("You can copy your converted configuration:\n",e.getNewConfigurationString(e.getUIAuthConfig())),0===e.firebaseUiConfig.providers.length)throw new Error("There must be at least one AuthProvider.");e.firebaseUIPopup()}else{if(0===e.firebaseUiConfig.signInOptions.length)throw new Error("There must be at least one AuthProvider.");e.firebaseUIPopup()}}))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.getUIAuthConfig=function(){var r,t,i=this;if(!this.firebaseUiConfig.providers)return this.firebaseUiConfig.callbacks||(this._firebaseUiConfig[e.COMPUTED_CALLBACKS]=!0,this._firebaseUiConfig.callbacks=this.getCallbacks()),this.firebaseUiConfig;var n=this.firebaseUiConfig,a=[];try{for(var o=l(n.providers),u=o.next();!u.done;u=o.next()){var c=u.value;if(c.customConfig){var f=(c=c).customConfig;f.provider=e.getAuthProvider(c.provider),a.push(f)}else a.push(e.getAuthProvider(c))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}var h,p=n.tos?n.tos:"",b=n.privacyPolicyUrl?n.privacyPolicyUrl:"",g="popup";switch(n.method){case A.Redirect:g="redirect";break;case null:case A.Popup:}switch(n.credentialHelper){case I.None:h=this.firebaseuiLibrary.auth.CredentialHelper.NONE;break;case I.OneTap:h=this.firebaseuiLibrary.auth.CredentialHelper.GOOGLE_YOLO;break;case I.AccountChooser:default:h=this.firebaseuiLibrary.auth.CredentialHelper.ACCOUNT_CHOOSER_COM}var d=null!=n.autoUpgradeAnonymousUsers&&n.autoUpgradeAnonymousUsers,v=s({},this.getCallbacks(),{signInSuccess:null});n.disableSignInSuccessCallback||(console.warn("[FirebaseUiAngular] signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead.\nTo remove this warning set disableSignInSuccessCallback on the FirebaseUiConfig Object."),v.signInSuccess=function(e,r,t){return i.ngZone.run((function(){i.signInSuccessCallback.emit({currentUser:e,credential:r,redirectUrl:t})})),!!n.signInSuccessUrl});var C={callbacks:v,signInFlow:g,signInOptions:a,tosUrl:p,privacyPolicyUrl:b,credentialHelper:h,autoUpgradeAnonymousUsers:d};return n.signInSuccessUrl&&(C.signInSuccessUrl=n.signInSuccessUrl),C},e.prototype.firebaseUIPopup=function(){return u(this,void 0,void 0,(function(){var r,t,i;return c(this,(function(n){switch(n.label){case 0:return[4,this.firebaseUIService.getInstance(this.language)];case 1:return r=n.sent(),t=this.getUIAuthConfig(),i=!1,t[e.COMPUTED_CALLBACKS]&&(i=!0,delete t[e.COMPUTED_CALLBACKS]),r.start("#firebaseui-auth-container",t),i&&(this._firebaseUiConfig.callbacks=null),[2]}}))}))},e.prototype.getCallbacks=function(){var e=this;return{signInSuccessWithAuthResult:function(r,t){return e.ngZone.run((function(){e.signInSuccessWithAuthResultCallback.emit({authResult:r,redirectUrl:t})})),e.firebaseUiConfig.signInSuccessUrl},signInFailure:function(r){return e.ngZone.run((function(){e.signInFailureCallback.emit({code:r.code,credential:r.credential})})),Promise.reject()}}},e.prototype.getNewConfigurationString=function(e){delete e.callbacks,e.autoUpgradeAnonymousUsers||delete e.autoUpgradeAnonymousUsers;var r=JSON.stringify(e,null,2);return r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace('"credentialHelper": "accountchooser.com"','"credentialHelper": firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM')).replace('"credentialHelper": "googleyolo"','"credentialHelper": firebaseui.auth.CredentialHelper.GOOGLE_YOLO')).replace('"credentialHelper": "none"','"credentialHelper": firebaseui.auth.CredentialHelper.NONE')).replace('"provider": "google.com"','"provider": firebase.auth.GoogleAuthProvider.PROVIDER_ID')).replace('"provider": "facebook.com"','"provider": firebase.auth.FacebookAuthProvider.PROVIDER_ID')).replace('"provider": "twitter.com"','"provider": firebase.auth.TwitterAuthProvider.PROVIDER_ID')).replace('"provider": "github.com"','"provider": firebase.auth.GithubAuthProvider.PROVIDER_ID')).replace('"provider": "password"','"provider": firebase.auth.EmailAuthProvider.PROVIDER_ID')).replace('"provider": "phone"','"provider": firebase.auth.PhoneAuthProvider.PROVIDER_ID')).replace('"google.com"',"firebase.auth.GoogleAuthProvider.PROVIDER_ID")).replace('"facebook.com"',"firebase.auth.FacebookAuthProvider.PROVIDER_ID")).replace('"twitter.com"',"firebase.auth.TwitterAuthProvider.PROVIDER_ID")).replace('"github.com"',"firebase.auth.TwitterAuthProvider.PROVIDER_ID")).replace('"password"',"firebase.auth.EmailAuthProvider.PROVIDER_ID")).replace('"phone"',"firebase.auth.PhoneAuthProvider.PROVIDER_ID")).replace(/"([a-zA-Z0-9]*)": (.*)/g,"$1: $2")).replace(/"/g,"'")},e.COMPUTED_CALLBACKS="COMPUTED_CALLBACKS",e.decorators=[{type:r.Component,args:[{selector:"firebase-ui",template:'<div id="firebaseui-auth-container"></div>'}]}],e.ctorParameters=function(){return[{type:t.AngularFireAuth},{type:void 0,decorators:[{type:r.Inject,args:["firebaseUIAuthConfig"]}]},{type:void 0,decorators:[{type:r.Inject,args:["firebaseUIAuthConfigFeature"]}]},{type:r.NgZone},{type:f}]},e.propDecorators={signInSuccessCallback:[{type:r.Output,args:["signInSuccess"]}],signInSuccessWithAuthResultCallback:[{type:r.Output,args:["signInSuccessWithAuthResult"]}],signInFailureCallback:[{type:r.Output,args:["signInFailure"]}],language:[{type:r.Input}]},e}();var R=function(){function e(){}return e.forRoot=function(r){return{ngModule:e,providers:[{provide:"firebaseUIAuthConfig",useValue:r},{provide:"firebaseUIAuthConfigFeature",useValue:{}}]}},e.forFeature=function(r){return{ngModule:e,providers:[{provide:"firebaseUIAuthConfigFeature",useValue:r}]}},e.decorators=[{type:r.NgModule,args:[{imports:[o.CommonModule],declarations:[_],exports:[_]}]}],e}();e.AuthMethods=A,e.AuthProvider=C,e.CredentialHelper=I,e.FirebaseUIAuthConfig=b,e.FirebaseUIModule=R,e.FirebaseUISignInFailure=d,e.FirebaseUISignInSuccess=v,e.FirebaseUISignInSuccessWithAuthResult=g,e.FirebaseuiAngularLibraryComponent=_,e.FirebaseuiAngularLibraryService=f,e.firebase=h,e.firebaseui=p,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=firebaseui-angular-en-es.umd.min.js.map